# Environment Variables for {{ project_name }}
# Copy this file to .env and fill in actual values
# DO NOT commit .env to version control

# =============================================================================
# DATABASE CREDENTIALS
# =============================================================================
{% if stack.storage == "PostgreSQL" %}
# PostgreSQL
DB_HOST=postgres
DB_PORT=5432
DB_NAME=warehouse
DB_USER=postgres
DB_PASSWORD=<generate-secure-password>
DATABASE_URL=postgresql://postgres:<password>@postgres:5432/warehouse
{% endif %}

{% if stack.storage == "Snowflake" %}
# Snowflake
SNOWFLAKE_ACCOUNT=<your-account>.snowflakecomputing.com
SNOWFLAKE_USER=<your-username>
SNOWFLAKE_PASSWORD=<your-password>
SNOWFLAKE_ROLE=<your-role>
SNOWFLAKE_WAREHOUSE=<your-warehouse>
SNOWFLAKE_DATABASE=<your-database>
SNOWFLAKE_SCHEMA=PUBLIC
{% endif %}

{% if stack.storage == "BigQuery" %}
# Google BigQuery
GCP_PROJECT_ID=<your-gcp-project>
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
BIGQUERY_DATASET={{ project_name }}_dataset
{% endif %}

# =============================================================================
# CLOUD PROVIDER CREDENTIALS
# =============================================================================

# AWS
AWS_ACCESS_KEY_ID=<your-aws-access-key>
AWS_SECRET_ACCESS_KEY=<your-aws-secret-key>
AWS_DEFAULT_REGION=us-east-1
AWS_S3_BUCKET={{ project_name }}-data-lake

# GCP (if using)
GCP_PROJECT_ID=<your-gcp-project>
GCP_REGION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# Azure (if using)
AZURE_STORAGE_ACCOUNT=<your-storage-account>
AZURE_STORAGE_KEY=<your-storage-key>
AZURE_CONTAINER_NAME={{ project_name }}-container

# =============================================================================
# INGESTION TOOL CREDENTIALS
# =============================================================================
{% if stack.ingestion == "DLT" %}
# DLT (data load tool)
DLT_PROJECT_DIR=./pipelines
DLT_PIPELINE_DIR=./pipelines/.dlt
{% endif %}

{% if stack.ingestion == "Airbyte" %}
# Airbyte
AIRBYTE_API_URL=http://airbyte-server:8001/api/v1
AIRBYTE_USERNAME=airbyte
AIRBYTE_PASSWORD=password
{% endif %}

# API Keys for data sources (customize based on your sources)
API_KEY_SOURCE_1=<your-api-key>
API_KEY_SOURCE_2=<your-api-key>

# =============================================================================
# ORCHESTRATION
# =============================================================================
{% if stack.orchestration == "Airflow" %}
# Airflow
AIRFLOW_UID=50000
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres:5432/airflow
AIRFLOW__CORE__FERNET_KEY=<generate-with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())">
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=True
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__API__AUTH_BACKEND=airflow.api.auth.backend.basic_auth

# Airflow Webserver
AIRFLOW__WEBSERVER__SECRET_KEY=<generate-random-key>

# Email/Slack Alerts
AIRFLOW__EMAIL__EMAIL_BACKEND=airflow.utils.email.send_email_smtp
AIRFLOW__SMTP__SMTP_HOST=smtp.gmail.com
AIRFLOW__SMTP__SMTP_PORT=587
AIRFLOW__SMTP__SMTP_USER=<your-email>
AIRFLOW__SMTP__SMTP_PASSWORD=<app-specific-password>
AIRFLOW__SMTP__SMTP_MAIL_FROM=<your-email>

SLACK_WEBHOOK_URL=<your-slack-webhook-url>
ALERT_EMAIL=<your-alert-email>
{% endif %}

{% if stack.orchestration == "Dagster" %}
# Dagster
DAGSTER_HOME=/opt/dagster/app
DAGSTER_PG_HOST=postgres
DAGSTER_PG_USER=dagster
DAGSTER_PG_PASSWORD=dagster
DAGSTER_PG_DB=dagster
{% endif %}

{% if stack.orchestration == "Prefect" %}
# Prefect
PREFECT_API_URL=http://prefect-server:4200/api
PREFECT_API_KEY=<your-api-key>
{% endif %}

# =============================================================================
# TRANSFORMATION
# =============================================================================
{% if stack.transformation == "dbt" %}
# dbt
DBT_PROFILES_DIR=/opt/dbt
DBT_TARGET=dev  # or prod
{% endif %}

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Logging level
LOG_LEVEL=INFO

# Sentry (optional, for error tracking)
SENTRY_DSN=<your-sentry-dsn>

# Datadog (optional, for monitoring)
DATADOG_API_KEY=<your-datadog-api-key>

# =============================================================================
# SECURITY
# =============================================================================

# Encryption keys
ENCRYPTION_KEY=<generate-random-32-byte-key>

# JWT for API auth (if applicable)
JWT_SECRET_KEY=<generate-random-secret>
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=development  # development | staging | production
PROJECT_NAME={{ project_name }}
