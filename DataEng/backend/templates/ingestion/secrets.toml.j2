# DLT Secrets Configuration for {{ project_name }}
# This file contains sensitive credentials for data sources

# =============================================================================
# DESTINATION (Database/Warehouse)
# =============================================================================

[destination]
{% if stack.storage == "PostgreSQL" %}
type = "postgres"
database = "${DB_NAME}"
username = "${DB_USER}"
password = "${DB_PASSWORD}"
host = "${DB_HOST}"
port = ${DB_PORT}

{% elif stack.storage == "Snowflake" %}
type = "snowflake"
account = "${SNOWFLAKE_ACCOUNT}"
user = "${SNOWFLAKE_USER}"
password = "${SNOWFLAKE_PASSWORD}"
database = "${SNOWFLAKE_DATABASE}"
warehouse = "${SNOWFLAKE_WAREHOUSE}"
role = "${SNOWFLAKE_ROLE}"
schema = "PUBLIC"

{% elif stack.storage == "BigQuery" %}
type = "bigquery"
project_id = "${GCP_PROJECT_ID}"
dataset_id = "{{ project_name }}_raw"
credentials_path = "${GOOGLE_APPLICATION_CREDENTIALS}"

{% else %}
# Default: DuckDB (for local development)
type = "duckdb"
database = "./data/warehouse.duckdb"
{% endif %}

# =============================================================================
# SOURCE CREDENTIALS
# =============================================================================

# Example: REST API Source
[sources.api_source]
api_key = "${API_KEY_SOURCE_1}"
base_url = "https://api.example.com/v1"

# Example: Database Source (for CDC/replication)
[sources.source_db]
type = "postgres"
host = "${SOURCE_DB_HOST}"
port = 5432
database = "${SOURCE_DB_NAME}"
username = "${SOURCE_DB_USER}"
password = "${SOURCE_DB_PASSWORD}"

# Example: Cloud Storage Source  
[sources.s3_source]
aws_access_key_id = "${AWS_ACCESS_KEY_ID}"
aws_secret_access_key = "${AWS_SECRET_ACCESS_KEY}"
bucket_name = "${AWS_S3_BUCKET}"
region = "${AWS_DEFAULT_REGION}"

# =============================================================================
# DLT RUNTIME CONFIGURATION
# =============================================================================

[runtime]
log_level = "INFO"
progress = "enlighten"  # Progress bar style
